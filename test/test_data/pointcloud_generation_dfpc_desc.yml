name: PointcloudGeneration
doc: Generate a pointcloud.
dfns:
    - name: TiltScan
    - name: LaserFilter
input_ports:
    - name: lidar2D
      type: asn1SccLaserScan
      doc: "Point cloud taken from a 2D LIDAR sensor"
      connections:
        - dfn: LaserFilter
          port: scanSamples
    - name: dyamixelDynamicTf
      type: asn1SccRigidBodyState
      doc: "Dynamic transformation between body and 2D laser frame"
      connections: 
        - dfn: LaserFilter
          port: laser2BodyTf
        - dfn: TiltScan
          port: laser2Body
output_ports:
    - name: pointcloudAvailable
      type: bool
      doc: "Is the pointcloud available?"
      connections:
        dfn: TiltScan
        port: pointcloudAvailable
operations:
    - name: "getPointcloud"
      inputs:
        - name: maxPoints
          type: int
      output_type: asn1SccPointcloud
      doc : "Delivers the current pointcloud even if not finished the complete sweep"
internal_connections:
    - from:
        dfn: LaserFilter
        port: scanSamples
      to:
        dfn: TiltScan
        port: laserScan

